<h1>Calendar</h1>

<div class="view-selector">
  <label for="calendarView">View:</label>
  <select id="calendarView">
    <option value="month" selected>Month</option>
    <option value="week">Week</option>
    <option value="day">Day</option>
  </select>
</div>

<form method="GET" action="/calendar/search" class="user-search-form">
  <label for="searchUser">View another user's calendar:</label>
  <input type="text" id="searchUser" name="username" placeholder="Enter username" required />
  <button type="submit">Search</button>
</form>

{{#if viewedUser}}
  <p>You are viewing <strong>{{viewedUser}}</strong>'s calendar.</p>
{{/if}}
{{#if errorMessage}}
  <div class="error-message">{{errorMessage}}</div>
  <p style="color: red;">{{errorMessage}}</p>
  </div>
{{/if}}

<div class="calendar-controls">
  <label for="month">Month:</label>
  <select id="month"></select>

  <label for="year">Year:</label>
  <select id="year"></select>
</div>

<div class="calendar-wrapper">
  <div class = "calendar-grid">
    <div class="day-labels">
      <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
    </div>
    <div class="calendar" id="calendar"></div>
  </div>
</div>

<script>
  // serverâ€‘rendered mealMapJSON and workoutMapJSON must be passed in when you call res.render()
  window.mealMap    = {{{mealMapJSON}}};
  window.workoutMap = {{{workoutMapJSON}}};
  window.readOnly = {{#if readOnly}}true{{else}}false{{/if}};
  window.viewedUser = {{#if viewedUser}}"{{viewedUser}}"{{else}}null{{/if}};        
  window.sessionUserId = "{{sessionUserId}}"; 
</script>


<script src="/public/js/calendar.js" defer></script>
